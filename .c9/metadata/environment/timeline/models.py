{"filter":false,"title":"models.py","tooltip":"/timeline/models.py","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":0,"column":28},"action":"remove","lines":["from django.db import models"],"id":2},{"start":{"row":0,"column":0},"end":{"row":23,"column":0},"action":"insert","lines":["from django.db import models","from imagekit.models import ImageSpecField, ProcessedImageField","from imagekit.processors import ResizeToFill, ResizeToFit","","class Post(models.Model):","\tauthor = models.ForeignKey('accounts.CustomUser', on_delete=models.CASCADE)","\ttext = models.TextField(verbose_name='本文')","\tphoto = models.ImageField(verbose_name='写真', blank=True, null=True, upload_to='images/')","\tpost_photo = ImageSpecField(source='photo',processors=[ResizeToFit(1080, 1080)],format='JPEG',options={'quality':60})","\tcreated_at = models.DateTimeField(auto_now_add=True, blank=True)","","","\tdef get_like(self):","\t\tlikes = Like.objects.filter(post=self)","\t\treturn [like.user for like in likes]","","","class Like(models.Model):","\tuser = models.ForeignKey('accounts.CustomUser', on_delete=models.CASCADE)","\tpost = models.ForeignKey('Post', on_delete=models.CASCADE)","","\tclass Meta:","\t\tunique_together = ('user', 'post')",""]}]]},"ace":{"folds":[],"scrolltop":94.20000000000003,"scrollleft":0,"selection":{"start":{"row":23,"column":0},"end":{"row":23,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":86,"mode":"ace/mode/python"}},"timestamp":1706215841174,"hash":"0f483efaa86f819e962fe1cc274363752bae6993"}